(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{428:function(e,t,r){"use strict";r.r(t);r(5),r(4),r(2),r(1),r(6),r(3),r(7);var n=r(19),o=r(0);r(66),r(118),r(179),r(53);var c={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l;const d=new Uint8Array(16);function v(){if(!l&&(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(d)}const f=[];for(let i=0;i<256;++i)f.push((i+256).toString(16).slice(1));function m(e,t=0){return(f[e[t+0]]+f[e[t+1]]+f[e[t+2]]+f[e[t+3]]+"-"+f[e[t+4]]+f[e[t+5]]+"-"+f[e[t+6]]+f[e[t+7]]+"-"+f[e[t+8]]+f[e[t+9]]+"-"+f[e[t+10]]+f[e[t+11]]+f[e[t+12]]+f[e[t+13]]+f[e[t+14]]+f[e[t+15]]).toLowerCase()}var h=function(e,t,r){if(c.randomUUID&&!t&&!e)return c.randomUUID();const n=(e=e||{}).random||(e.rng||v)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return m(n)},_=r(65),y=r(117);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var w={data:function(){return{countries:y,selectedServices:[],service:"",generateUrlForm:{citizen_of:"",resident_of:"",travel_to:""},createForm:{title:"",track_id:"",url:"",user:3},copied:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(_.b)({serviceOptions:"deeplinks/serviceOptions"})),methods:{fetchServices:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.generateUrlForm.citizen_of&&e.generateUrlForm.resident_of&&e.generateUrlForm.travel_to){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$store.dispatch("deeplinks/fetchServices",e.generateUrlForm);case 4:case"end":return t.stop()}}),t)})))()},addService:function(e){this.service="",!this.selectedServices.includes(e)&&this.selectedServices.push(e)},popService:function(e){var t=this.selectedServices.indexOf(e);this.selectedServices.splice(t,1)},generateUrl:function(){this.createForm.track_id=h();this.createForm.url=this.$applyQueryToUrl("https://pickvisa.com",this.generateUrlForm)},handleLinkCopy:function(){navigator.clipboard.writeText(this.url),this.copied=!0},handleDeeplinkCreate:function(){this.$store.dispatch("deeplinks/createDeeplink",this.createForm)}}},F=w,U=r(16),component=Object(U.a)(F,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"solutions create"},[t("PageHeader",{attrs:{title:"New solution","show-actions":"","show-back-button":""},scopedSlots:e._u([{key:"actions",fn:function(){return[t("button",{staticClass:"btn preview"},[e._v("Preview")]),e._v(" "),t("button",{staticClass:"btn btn-greenland",on:{click:e.handleDeeplinkCreate}},[e._v("Create")])]},proxy:!0}])}),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"solutions-create_inner white-panel"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("b-form-group",{attrs:{label:"Solution name"}},[t("FormField",{attrs:{placeholder:"New name will be here"},model:{value:e.createForm.title,callback:function(t){e.$set(e.createForm,"title",t)},expression:"createForm.title"}})],1)],1)]),e._v(" "),t("div",{staticClass:"row flex-column"},[t("h2",{staticClass:"d-inline-flex"},[e._v("Filter and select services")]),e._v(" "),t("div",{staticClass:"col-6 pt-4 d-flex align-items-center justify-content-between flex-wrap"},[t("b-form-group",{attrs:{label:"Citizen of"}},[t("v-select",{attrs:{options:e.countries,reduce:function(data){return data.label},placeholder:"Choose country"},on:{input:e.fetchServices},model:{value:e.generateUrlForm.citizen_of,callback:function(t){e.$set(e.generateUrlForm,"citizen_of",t)},expression:"generateUrlForm.citizen_of"}})],1),e._v(" "),t("b-form-group",{attrs:{label:"Resident of"}},[t("v-select",{attrs:{options:e.countries,reduce:function(data){return data.label},placeholder:"Choose country"},on:{input:e.fetchServices},model:{value:e.generateUrlForm.resident_of,callback:function(t){e.$set(e.generateUrlForm,"resident_of",t)},expression:"generateUrlForm.resident_of"}})],1),e._v(" "),t("b-form-group",{attrs:{label:"Travel to"}},[t("v-select",{attrs:{options:e.countries,reduce:function(data){return data.label},placeholder:"Choose country"},on:{input:e.fetchServices},model:{value:e.generateUrlForm.travel_to,callback:function(t){e.$set(e.generateUrlForm,"travel_to",t)},expression:"generateUrlForm.travel_to"}})],1),e._v(" "),t("b-form-group",{attrs:{label:"Services"}},[t("v-select",{attrs:{options:e.serviceOptions,placeholder:"Add services"},on:{input:e.addService},model:{value:e.service,callback:function(t){e.service=t},expression:"service"}}),e._v(" "),t("div",{staticClass:"selected-services"},e._l(e.selectedServices,(function(r){return t("button",{key:r.value,on:{click:function(t){return e.popService(r)}}},[t("span",[e._v(e._s(r.label))]),e._v(" "),t("Icon",{attrs:{name:"close-circle-2"}})],1)})),0)],1)],1)]),e._v(" "),t("button",{class:["btn generate-link",{active:e.serviceOptions.length}],attrs:{disabled:!e.serviceOptions.length},on:{click:e.generateUrl}},[e._v(e._s(e.createForm.url?"Generate again":"Generate link"))]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.createForm.url,expression:"createForm.url"}],staticClass:"copy-link"},[t("span",[e._v(e._s(e.createForm.url))]),e._v(" "),t("button",{staticClass:"btn",attrs:{id:"tooltip-target-1"},on:{click:e.handleLinkCopy}},[e._v("Copy link")]),e._v(" "),t("b-tooltip",{attrs:{target:"tooltip-target-1",triggers:"click"}},[e._v("\n          Link copied\n        ")])],1)])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FormField:r(177).default})}}]);